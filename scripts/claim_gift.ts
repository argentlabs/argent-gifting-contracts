import { constants, RpcProvider } from "starknet";
import { claimInternal } from "../lib";

/// To use this script, fill in the following 3 variables printed from scripts/create_gift.ts:

const gift = {
  factory: "0x000000000000000000000000000000000000000000000000000000000000000",
  escrow_class_hash: "0x000000000000000000000000000000000000000000000000000000000000000",
  sender: "0x0000000000000000000000000000000000000000000000000000000000000000",
  gift_token: "0x0000000000000000000000000000000000000000000000000000000000000000",
  gift_amount: 69n,
  fee_token: "0x0000000000000000000000000000000000000000000000000000000000000000",
  fee_amount: 42n,
  gift_pubkey: 100000000000000000000000000000000000000000000000000000000000000000000000000n,
};
const receiver = "0x0000000000000000000000000000000000000000000000000000000000000000";
const giftPrivateKey = "0x0000000000000000000000000000000000000000000000000000000000000000";

const provider = new RpcProvider({ nodeUrl: constants.NetworkName.SN_SEPOLIA });
const receipt = await claimInternal({ gift, receiver, giftPrivateKey, provider });

console.log("Tx hash:", receipt.transaction_hash);
